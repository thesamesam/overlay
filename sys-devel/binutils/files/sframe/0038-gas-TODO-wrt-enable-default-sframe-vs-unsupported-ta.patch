From e4d8abbdde23e49065ea3c32b3d6cb03a8342446 Mon Sep 17 00:00:00 2001
Message-ID: <e4d8abbdde23e49065ea3c32b3d6cb03a8342446.1767968092.git.sam@gentoo.org>
In-Reply-To: <e62b70cdd289cc9b71a0ba81685dcbf7c31e5eda.1767968092.git.sam@gentoo.org>
References: <e62b70cdd289cc9b71a0ba81685dcbf7c31e5eda.1767968092.git.sam@gentoo.org>
From: Sam James <sam@gentoo.org>
Date: Fri, 15 Aug 2025 15:12:25 +0100
Subject: [PATCH 38/39] gas: TODO wrt enable-default-sframe vs unsupported
 targets

TODO: Where's the best place to do this check? Or maybe we ought not
to do it at all, and instead fix cfi_finish to have another conditional
s.t. it errors if the target never supports SFrames (which)?

Signed-off-by: Sam James <sam@gentoo.org>
---
 gas/configure.ac | 1 +
 1 file changed, 1 insertion(+)

diff --git a/gas/configure.ac b/gas/configure.ac
index 742067ca7ba..6685cbb86e6 100644
--- a/gas/configure.ac
+++ b/gas/configure.ac
@@ -106,6 +106,7 @@ AC_ARG_ENABLE(elf_stt_common,
   yes)  ac_default_elf_stt_common=1 ;;
 esac])dnl
 
+# TODO: Forbid this on unsupported targets
 ac_default_sframe=unset
 # Provide a configure time option to override our default.
 AC_ARG_ENABLE(default-sframe,
-- 
2.52.0

